#import "../lib.typ": *

= Реализация в языке Cangjie

В предыдущей главе мы провели анализ предметной области "Оптики", рассмотрев существующий интерфейс, теоретические модели, позволяющие реализовать этот интерфейс и реализации в промышленных языках. Теперь мы готовы к тому, чтобы реализовать "Оптику" в @cangjie, с учетом его особенностей и ограничений.

Были выставлены следующие требования к дизайну и реализации конечного решения:
- Производительность --- отсутствие или низкая цена абстракции в сравнении с кодом, написанным без "Оптики".
- Работать при динамической линковке, как внешней зависимости
- Работать с различными уровнями видимости --- #TODO[Расписать теоретическое]
- Поддержать кодогенерацию "Оптики" для тривиальных случаев
- Лаконичный интерфейс взаимодействия
- Поддержать возможность написания пользовательской "Оптики"
- Объект первого класса

#TODO[]
== Наивная реализация
=== Бенчмаркинг и явные проблемы
== Van Laarhoven
=== Бенчмаркин и проблемы
=== Проблема выразимости некоторых видов оптики
== Дефорестированная оптика и динамически расшиняемые реестры
